var v=Object.defineProperty,ct=Object.defineProperties;var lt=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable;var k=(t,e,r)=>e in t?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,A=(t,e)=>{for(var r in e||(e={}))pt.call(e,r)&&k(t,r,e[r]);if(w)for(var r of w(e))dt.call(e,r)&&k(t,r,e[r]);return t},M=(t,e)=>ct(t,lt(e));var n=(t,e)=>v(t,"name",{value:e,configurable:!0});import*as T from"react";import*as x from"react";import ut from"@aws-amplify/auth";import{Hub as Y}from"@aws-amplify/core";var Qt=n(()=>{let[t,e]=x.useState({error:void 0,isLoading:!0,user:void 0}),r=n(({payload:a})=>{switch(a.event){case"signIn":return e({user:a.data,isLoading:!1});case"signOut":return e({isLoading:!1});default:break}},"handleAuth"),o=n(()=>(e({isLoading:!0}),ut.currentAuthenticatedUser().then(a=>e({user:a,isLoading:!1})).catch(a=>e({error:a,isLoading:!1})),Y.listen("auth",r),()=>Y.remove("auth",r)),"fetch");return x.useEffect(o,[]),M(A({},t),{fetch:o})},"useAuth");import*as E from"react";import{DataStore as G}from"@aws-amplify/datastore";var At=n(({model:t,criteria:e,pagination:r})=>{let[o,a]=E.useState({items:[],isLoading:!1,error:void 0});return E.useEffect(n(()=>{a({isLoading:!0,items:[]});let i=G.observeQuery(t,e,r).subscribe(p=>a({items:p.items,isLoading:!1}),p=>a({items:[],error:p,isLoading:!1}));if(i)return()=>i.unsubscribe()},"fetch"),[]),o},"useDataStoreCollection"),Tt=n(({model:t,id:e})=>{let[r,o]=E.useState(),[a,s]=E.useState(!1),[i,p]=E.useState();return E.useEffect(n(()=>{s(!0),G.query(t,e).then(o).catch(p).finally(()=>s(!1))},"fetch"),[]),{error:i,item:r,isLoading:a}},"useDataStoreItem");function Xt(t){return t.type==="record"?Tt(t):At(t)}n(Xt,"useDataStoreBinding");import*as R from"react";import{Storage as j}from"@aws-amplify/storage";var re=n((t,e)=>{let[r,o]=R.useState({isLoading:!0}),a=JSON.stringify(e),s=n(()=>{o({isLoading:!0});let i=j.get(t,e);return i.then(p=>o({url:p,isLoading:!1})).catch(p=>o({error:p,isLoading:!1})),()=>j.cancel(i)},"fetch");return R.useEffect(s,[t,e,a]),M(A({},r),{fetch:s})},"useStorageURL");import{Auth as Rt,Hub as b}from"aws-amplify";var c="ui",h="actions",Et="auth",St="datastore",_t="core",mt="signout",Ot="navigate",gt="create",ft="delete",It="update",Mt="statemutation",_="started",m="finished",Nt=`${h}:${Et}`,O=`${Nt}:${mt}`,B=`${O}:${_}`,P=`${O}:${m}`,q=`${h}:${_t}`,N=`${q}:${Mt}`,W=`${N}:${_}`,Q=`${N}:${m}`,D=`${q}:${Ot}`,J=`${D}:${_}`,z=`${D}:${m}`,y=`${h}:${St}`,g=`${y}:${gt}`,K=`${g}:${_}`,U=`${g}:${m}`,f=`${y}:${ft}`,X=`${f}:${_}`,L=`${f}:${m}`,I=`${y}:${It}`,Z=`${I}:${_}`,H=`${I}:${m}`,tt="Error querying datastore item by id";import{translate as ie}from"@aws-amplify/ui";var Dt=n(t=>typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string","isErrorWithMessage"),xt=n(t=>{if(Dt(t))return t;try{return new Error(JSON.stringify(t))}catch{return new Error(String(t))}},"toErrorWithMessage"),S=n(t=>xt(t).message,"getErrorMessage");var l=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";var Ct=n(t=>async()=>{try{b.dispatch(c,{event:B,data:{options:t}},O,l),await Rt.signOut(t),b.dispatch(c,{event:P,data:{options:t}},O,l)}catch(e){b.dispatch(c,{event:P,data:{options:t,errorMessage:S(e)}},O,l)}},"useAuthSignOutAction");import*as et from"react";import{Hub as rt}from"aws-amplify";var ht="noopener noreferrer",Pt="_self",yt=n(t=>{let{type:e,url:r,anchor:o,target:a}=t,s=et.useMemo(()=>{switch(e){case"url":return()=>{window.open(r,a||Pt,ht)};case"anchor":return()=>{window.location.hash=o};case"reload":return()=>{window.location.reload()};default:return()=>{console.warn('Please provide a valid navigate type. Available types are "url", "anchor" and "reload".')}}},[o,a,e,r]);return n(()=>{rt.dispatch(c,{event:J,data:t},D,l),s(),rt.dispatch(c,{event:z,data:t},D,l)},"navigateAction")},"useNavigateAction");import*as C from"react";import{Hub as ot}from"aws-amplify";var Ut=n(t=>{let[e,r]=C.useState(t),o=C.useCallback(a=>{let s=e;ot.dispatch(c,{event:W,data:{prevState:s,newState:a}},N,l),r(a),ot.dispatch(c,{event:Q,data:{prevState:s,newState:a}},N,l)},[e]);return[e,o]},"useStateMutationAction");import{DataStore as Lt,Hub as $}from"aws-amplify";var Ht=n(({model:t,fields:e})=>async()=>{try{$.dispatch(c,{event:K,data:{fields:e}},g,l);let r=await Lt.save(new t(e));$.dispatch(c,{event:U,data:{fields:e,item:r}},g,l)}catch(r){$.dispatch(c,{event:U,data:{fields:e,errorMessage:S(r)}},g,l)}},"useDataStoreCreateAction");import{DataStore as bt,Hub as F}from"aws-amplify";var $t=n(({model:t,id:e})=>async()=>{try{F.dispatch(c,{event:X,data:{id:e}},f,l),await bt.delete(t,e),F.dispatch(c,{event:L,data:{id:e}},f,l)}catch(r){F.dispatch(c,{event:L,data:{id:e,errorMessage:S(r)}},f,l)}},"useDataStoreDeleteAction");import{DataStore as nt,Hub as V}from"aws-amplify";var Ft=n(({model:t,id:e,fields:r})=>async()=>{try{V.dispatch(c,{event:Z,data:{fields:r,id:e}},I,l);let o=await nt.query(t,e);if(!o)throw new Error(`${tt}: ${e}`);let a=await nt.save(t.copyOf(o,s=>{Object.assign(s,r)}));V.dispatch(c,{event:H,data:{fields:r,id:e,item:a}},I,l)}catch(o){V.dispatch(c,{event:H,data:{fields:r,id:e,errorMessage:S(o)}},I,l)}},"useDataStoreUpdateAction");var st=n(t=>typeof t=="function","isFunction");var Vt=n((t,e)=>{if(!t)return null;let r=Object.entries(t).filter(o=>o[0].startsWith(e));return Object.assign({},...Array.from(r,([o,a])=>({[o.replace(e,"")]:a})))},"findChildOverrides"),vt=n((t,e)=>{if(!t)return null;let r=Object.entries(t).filter(([o])=>o===e).flatMap(([,o])=>Object.entries(o)).filter(o=>o==null?void 0:o[0]);return Object.fromEntries(r)},"getOverrideProps");function wt(t,e){let r=[...new Set(t.flatMap(s=>Object.keys(s.variantValues)))],o=Object.keys(e).filter(s=>r.includes(s)&&e[s]).reduce((s,i)=>(s[i]=e[i],s),{});return t.filter(({variantValues:s})=>Object.keys(s).length===Object.keys(o).length&&Object.entries(s).every(([i,p])=>o[i]===p)).reduce((s,i)=>A(A({},s),i.overrides),{})}n(wt,"getOverridesFromVariants");var kt=n((t,e)=>{if(!t&&!e)return null;if(!e)return t;if(!t)return e;let r=new Set(Object.keys(e)),o=Object.keys(t).filter(s=>r.has(s)),a=Object.fromEntries(o.map(s=>[s,A(A({},t[s]),e[s])]));return A(A(A({},t),e),a)},"mergeVariantsAndOverrides");var at=n(t=>t.reduce((e,r)=>o=>r(e(o)),e=>e),"mergePredicates"),it=n(t=>{let{and:e,or:r,field:o,operator:a,operand:s}=t;if(Array.isArray(e)){let i=e.map(p=>it(p));return p=>p.and(at(i))}else if(Array.isArray(r)){let i=r.map(p=>it(p));return p=>p.or(at(i))}return i=>st(i[o])?i[o].call(i,a,s):i},"createDataStorePredicate");export{it as createDataStorePredicate,Vt as findChildOverrides,vt as getOverrideProps,wt as getOverridesFromVariants,kt as mergeVariantsAndOverrides,Qt as useAuth,Ct as useAuthSignOutAction,Xt as useDataStoreBinding,At as useDataStoreCollection,Ht as useDataStoreCreateAction,$t as useDataStoreDeleteAction,Tt as useDataStoreItem,Ft as useDataStoreUpdateAction,yt as useNavigateAction,Ut as useStateMutationAction,re as useStorageURL};
//# sourceMappingURL=internal.js.map