var Mt=Object.create;var m=Object.defineProperty,Nt=Object.defineProperties,Dt=Object.getOwnPropertyDescriptor,xt=Object.getOwnPropertyDescriptors,Rt=Object.getOwnPropertyNames,q=Object.getOwnPropertySymbols,Ct=Object.getPrototypeOf,W=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;var Q=(t,e,r)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,u=(t,e)=>{for(var r in e||(e={}))W.call(e,r)&&Q(t,r,e[r]);if(q)for(var r of q(e))ht.call(e,r)&&Q(t,r,e[r]);return t},C=(t,e)=>Nt(t,xt(e)),J=t=>m(t,"__esModule",{value:!0}),n=(t,e)=>m(t,"name",{value:e,configurable:!0});var Pt=(t,e)=>{for(var r in e)m(t,r,{get:e[r],enumerable:!0})},z=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Rt(e))!W.call(t,s)&&(r||s!=="default")&&m(t,s,{get:()=>e[s],enumerable:!(o=Dt(e,s))||o.enumerable});return t},S=(t,e)=>z(J(m(t!=null?Mt(Ct(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),yt=(t=>(e,r)=>t&&t.get(e)||(r=z(J({}),e,1),t&&t.set(e,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var zt={};Pt(zt,{createDataStorePredicate:()=>B,findChildOverrides:()=>mt,getOverrideProps:()=>Ot,getOverridesFromVariants:()=>gt,mergeVariantsAndOverrides:()=>ft,useAuth:()=>Ut,useAuthSignOutAction:()=>pt,useDataStoreBinding:()=>Lt,useDataStoreCollection:()=>X,useDataStoreCreateAction:()=>Tt,useDataStoreDeleteAction:()=>Et,useDataStoreItem:()=>Z,useDataStoreUpdateAction:()=>St,useNavigateAction:()=>ut,useStateMutationAction:()=>At,useStorageURL:()=>Ht});var A=S(require("react"));var y=S(require("react")),K=S(require("@aws-amplify/auth")),H=require("@aws-amplify/core"),Ut=n(()=>{let[t,e]=y.useState({error:void 0,isLoading:!0,user:void 0}),r=n(({payload:s})=>{switch(s.event){case"signIn":return e({user:s.data,isLoading:!1});case"signOut":return e({isLoading:!1});default:break}},"handleAuth"),o=n(()=>(e({isLoading:!0}),K.default.currentAuthenticatedUser().then(s=>e({user:s,isLoading:!1})).catch(s=>e({error:s,isLoading:!1})),H.Hub.listen("auth",r),()=>H.Hub.remove("auth",r)),"fetch");return y.useEffect(o,[]),C(u({},t),{fetch:o})},"useAuth");var T=S(require("react")),b=require("@aws-amplify/datastore"),X=n(({model:t,criteria:e,pagination:r})=>{let[o,s]=T.useState({items:[],isLoading:!1,error:void 0});return T.useEffect(n(()=>{s({isLoading:!0,items:[]});let i=b.DataStore.observeQuery(t,e,r).subscribe(p=>s({items:p.items,isLoading:!1}),p=>s({items:[],error:p,isLoading:!1}));if(i)return()=>i.unsubscribe()},"fetch"),[]),o},"useDataStoreCollection"),Z=n(({model:t,id:e})=>{let[r,o]=T.useState(),[s,a]=T.useState(!1),[i,p]=T.useState();return T.useEffect(n(()=>{a(!0),b.DataStore.query(t,e).then(o).catch(p).finally(()=>a(!1))},"fetch"),[]),{error:i,item:r,isLoading:s}},"useDataStoreItem");function Lt(t){return t.type==="record"?Z(t):X(t)}n(Lt,"useDataStoreBinding");var U=S(require("react")),$=require("@aws-amplify/storage"),Ht=n((t,e)=>{let[r,o]=U.useState({isLoading:!0}),s=JSON.stringify(e),a=n(()=>{o({isLoading:!0});let i=$.Storage.get(t,e);return i.then(p=>o({url:p,isLoading:!1})).catch(p=>o({error:p,isLoading:!1})),()=>$.Storage.cancel(i)},"fetch");return U.useEffect(a,[t,e,s]),C(u({},r),{fetch:a})},"useStorageURL");var D=require("aws-amplify");var c="ui",F="actions",bt="auth",$t="datastore",Ft="core",Vt="signout",vt="navigate",wt="create",kt="delete",Yt="update",Gt="statemutation",O="started",g="finished",jt=`${F}:${bt}`,f=`${jt}:${Vt}`,tt=`${f}:${O}`,V=`${f}:${g}`,et=`${F}:${Ft}`,h=`${et}:${Gt}`,rt=`${h}:${O}`,ot=`${h}:${g}`,P=`${et}:${vt}`,nt=`${P}:${O}`,st=`${P}:${g}`,v=`${F}:${$t}`,I=`${v}:${wt}`,at=`${I}:${O}`,w=`${I}:${g}`,M=`${v}:${kt}`,it=`${M}:${O}`,k=`${M}:${g}`,N=`${v}:${Yt}`,ct=`${N}:${O}`,Y=`${N}:${g}`,lt="Error querying datastore item by id";var Bt=require("@aws-amplify/ui");var qt=n(t=>typeof t=="object"&&t!==null&&"message"in t&&typeof t.message=="string","isErrorWithMessage"),Wt=n(t=>{if(qt(t))return t;try{return new Error(JSON.stringify(t))}catch{return new Error(String(t))}},"toErrorWithMessage"),E=n(t=>Wt(t).message,"getErrorMessage");var l=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";var pt=n(t=>async()=>{try{D.Hub.dispatch(c,{event:tt,data:{options:t}},f,l),await D.Auth.signOut(t),D.Hub.dispatch(c,{event:V,data:{options:t}},f,l)}catch(e){D.Hub.dispatch(c,{event:V,data:{options:t,errorMessage:E(e)}},f,l)}},"useAuthSignOutAction");var dt=S(require("react")),G=require("aws-amplify");var Qt="noopener noreferrer",Jt="_self",ut=n(t=>{let{type:e,url:r,anchor:o,target:s}=t,a=dt.useMemo(()=>{switch(e){case"url":return()=>{window.open(r,s||Jt,Qt)};case"anchor":return()=>{window.location.hash=o};case"reload":return()=>{window.location.reload()};default:return()=>{console.warn('Please provide a valid navigate type. Available types are "url", "anchor" and "reload".')}}},[o,s,e,r]);return n(()=>{G.Hub.dispatch(c,{event:nt,data:t},P,l),a(),G.Hub.dispatch(c,{event:st,data:t},P,l)},"navigateAction")},"useNavigateAction");var L=S(require("react")),j=require("aws-amplify");var At=n(t=>{let[e,r]=L.useState(t),o=L.useCallback(s=>{let a=e;j.Hub.dispatch(c,{event:rt,data:{prevState:a,newState:s}},h,l),r(s),j.Hub.dispatch(c,{event:ot,data:{prevState:a,newState:s}},h,l)},[e]);return[e,o]},"useStateMutationAction");var x=require("aws-amplify");var Tt=n(({model:t,fields:e})=>async()=>{try{x.Hub.dispatch(c,{event:at,data:{fields:e}},I,l);let r=await x.DataStore.save(new t(e));x.Hub.dispatch(c,{event:w,data:{fields:e,item:r}},I,l)}catch(r){x.Hub.dispatch(c,{event:w,data:{fields:e,errorMessage:E(r)}},I,l)}},"useDataStoreCreateAction");var R=require("aws-amplify");var Et=n(({model:t,id:e})=>async()=>{try{R.Hub.dispatch(c,{event:it,data:{id:e}},M,l),await R.DataStore.delete(t,e),R.Hub.dispatch(c,{event:k,data:{id:e}},M,l)}catch(r){R.Hub.dispatch(c,{event:k,data:{id:e,errorMessage:E(r)}},M,l)}},"useDataStoreDeleteAction");var _=require("aws-amplify");var St=n(({model:t,id:e,fields:r})=>async()=>{try{_.Hub.dispatch(c,{event:ct,data:{fields:r,id:e}},N,l);let o=await _.DataStore.query(t,e);if(!o)throw new Error(`${lt}: ${e}`);let s=await _.DataStore.save(t.copyOf(o,a=>{Object.assign(a,r)}));_.Hub.dispatch(c,{event:Y,data:{fields:r,id:e,item:s}},N,l)}catch(o){_.Hub.dispatch(c,{event:Y,data:{fields:r,id:e,errorMessage:E(o)}},N,l)}},"useDataStoreUpdateAction");var _t=n(t=>typeof t=="function","isFunction");var mt=n((t,e)=>{if(!t)return null;let r=Object.entries(t).filter(o=>o[0].startsWith(e));return Object.assign({},...Array.from(r,([o,s])=>({[o.replace(e,"")]:s})))},"findChildOverrides"),Ot=n((t,e)=>{if(!t)return null;let r=Object.entries(t).filter(([o])=>o===e).flatMap(([,o])=>Object.entries(o)).filter(o=>o==null?void 0:o[0]);return Object.fromEntries(r)},"getOverrideProps");function gt(t,e){let r=[...new Set(t.flatMap(a=>Object.keys(a.variantValues)))],o=Object.keys(e).filter(a=>r.includes(a)&&e[a]).reduce((a,i)=>(a[i]=e[i],a),{});return t.filter(({variantValues:a})=>Object.keys(a).length===Object.keys(o).length&&Object.entries(a).every(([i,p])=>o[i]===p)).reduce((a,i)=>u(u({},a),i.overrides),{})}n(gt,"getOverridesFromVariants");var ft=n((t,e)=>{if(!t&&!e)return null;if(!e)return t;if(!t)return e;let r=new Set(Object.keys(e)),o=Object.keys(t).filter(a=>r.has(a)),s=Object.fromEntries(o.map(a=>[a,u(u({},t[a]),e[a])]));return u(u(u({},t),e),s)},"mergeVariantsAndOverrides");var It=n(t=>t.reduce((e,r)=>o=>r(e(o)),e=>e),"mergePredicates"),B=n(t=>{let{and:e,or:r,field:o,operator:s,operand:a}=t;if(Array.isArray(e)){let i=e.map(p=>B(p));return p=>p.and(It(i))}else if(Array.isArray(r)){let i=r.map(p=>B(p));return p=>p.or(It(i))}return i=>_t(i[o])?i[o].call(i,s,a):i},"createDataStorePredicate");module.exports=yt(zt);0&&(module.exports={createDataStorePredicate,findChildOverrides,getOverrideProps,getOverridesFromVariants,mergeVariantsAndOverrides,useAuth,useAuthSignOutAction,useDataStoreBinding,useDataStoreCollection,useDataStoreCreateAction,useDataStoreDeleteAction,useDataStoreItem,useDataStoreUpdateAction,useNavigateAction,useStateMutationAction,useStorageURL});
//# sourceMappingURL=internal.js.map